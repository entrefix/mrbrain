# ===========================================
# Required Settings
# ===========================================

# JWT secret for authentication (min 32 characters)
# DEPRECATED: This is no longer used with Supabase authentication
# JWT_SECRET=your-super-secret-jwt-key-min-32-chars

# Encryption key for storing API keys (32 characters for production)
ENCRYPTION_KEY=your-32-character-encryption-key

# ===========================================
# Supabase Backend Settings (Required for Auth)
# ===========================================

# Supabase project URL
SUPABASE_URL=https://your-project-id.supabase.co

# Supabase anon/public key (same as frontend VITE_SUPABASE_ANON_KEY)
SUPABASE_ANON_KEY=your-supabase-anon-key

# Supabase JWT secret (for verifying tokens on backend)
# Get this from: Supabase Dashboard > Settings > API > JWT Settings > JWT Secret
# ⚠️ CRITICAL: This is NOT the service role key. This is the JWT secret used to verify tokens.
SUPABASE_JWT_SECRET=your-jwt-secret-from-supabase-dashboard

# ⚠️ SECURITY WARNING:
# DO NOT set SUPABASE_SERVICE_ROLE_KEY in this file!
# The service role key grants ADMIN access and should NEVER be used in application code.
# It should only be used in secure backend scripts or migrations, never in the main application.

# ===========================================
# AI Settings (for chat/summarization)
# ===========================================

# OpenAI-compatible API settings
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-3.5-turbo

# ===========================================
# NVIDIA NIM Embeddings (required for RAG)
# ===========================================

# Get your API key from https://build.nvidia.com
NIM_API_KEY=nvapi-your-nvidia-nim-api-key
NIM_BASE_URL=https://integrate.api.nvidia.com/v1
NIM_MODEL=nvidia/nv-embedqa-e5-v5
NIM_RPM_LIMIT=40
NIM_EMBEDDING_DIM=1024

# ===========================================
# RAG Settings
# ===========================================

# Enable/disable RAG features (requires NIM_API_KEY)
RAG_ENABLED=true

# Vector database storage path
VECTOR_DB_PATH=./data/vectors

# ===========================================
# Web Search (optional)
# ===========================================

# SearXNG instance URLs (comma-separated for round-robin)
# SEARXNG_URLS=http://localhost:8080,http://searxng.example.com

# ===========================================
# Server Settings
# ===========================================

# JWT token expiration
JWT_EXPIRATION=24h

# Database path
DATABASE_PATH=./data/todomyday.db

# CORS allowed origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3111

# Backend port (for reference, set in code)
# PORT=8099

# ===========================================
# Frontend Settings (for Docker build)
# ===========================================

# Backend API URL for frontend
VITE_API_URL=http://localhost:8099

# ===========================================
# Supabase Settings (Frontend Authentication)
# ===========================================

# Supabase project URL (from your Supabase dashboard)
VITE_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase anon/public key (safe to expose in frontend)
# NOTE: This is the ANON key, NOT the service role key
# Get this from: Supabase Dashboard > Settings > API > Project API keys > anon/public
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key

# SECURITY WARNING: Never use or expose the following in your application:
# - SUPABASE_SERVICE_ROLE_KEY (backend only, grants admin access)
# - SUPABASE_JWT_SECRET (backend only, used to verify tokens)
# These should NEVER be in your .env file or exposed to the frontend!

# ===========================================
# PostHog Analytics (Optional)
# ===========================================

# PostHog project API key (get from https://app.posthog.com)
VITE_POSTHOG_KEY=phc-your-posthog-api-key

# PostHog host (optional, defaults to https://app.posthog.com)
VITE_POSTHOG_HOST=https://app.posthog.com
